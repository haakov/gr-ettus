# auto-generated by grc.converter

id: uhd_rfnoc_streamer_fir
label: 'RFNoC: FIR'

parameters:
-   id: taps
    label: Filter Taps
    dtype: int_vector
    default: '[158,526,33,-445,-256,553,573,-542,-1012,349,1536,123,-2097,-1012,2633,2608,-3077,-5946,3370,20513,29295,20513,3370,-5946,-3077,2608,2633,-1012,-2097,123,1536,349,-1012,-542,573,553,-256,-445,33,526,158]'
-   id: block_index
    label: FIR Select
    category: RFNoC Config
    dtype: int
    default: '-1'
    hide: ${ ('part' if int(block_index) < 0 else 'none') }
-   id: device_index
    label: Device Select
    category: RFNoC Config
    dtype: int
    default: '-1'
    hide: ${ ('part' if int(device_index) < 0 else 'none') }
-   id: fpga_module_name
    label: FPGA Module Name
    category: RFNoC Config
    dtype: string
    default: noc_block_fir_filter
    hide: all

inputs:
-   domain: stream
    dtype: complex

outputs:
-   domain: stream
    dtype: complex

templates:
    imports: import ettus
    make: |-
        ettus.rfnoc_fir_cci(
            ${taps},
            self.device3,
            % if block_index:
            ${block_index},
            % else:
            -1,
            % endif
            % if device_index:
            ${device_index},
            % else:
            -1,
            % endif
        )
        \# Set them twice just in case:
        self.${id}.set_taps(${taps})
    callbacks:
    - set_taps(${taps})

file_format: 1
